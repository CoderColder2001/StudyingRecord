# GAMES101
wsl2配置环境：  
<https://www.bilibili.com/read/cv11143517>  
<https://zhuanlan.zhihu.com/p/371080057>  

------
## Content
- 1 Transformation
- 2 Rasterization

------
## 1 Transformation
- 模型变换
- 视图变换

用矩阵描述变换 变换前后的坐标关系   
### 二维变换、三维变换  
平移、缩放、旋转、切边  
齐次坐标：增加一个维度，为了将平移变换用矩阵表示   
新的维度 点为1，向量为0（向量具有平移不变性）  

旋转矩阵的逆就是旋转矩阵的转置（*旋转矩阵是正交矩阵*）  
三维空间中的旋转   
旋转矩阵不适合做插值  
<br>

---
模型变换M => 视图变换V => 投影变换P => `[-1,1]^3` 立方体    
### 视图变换 View/Camera Transformation
相机的定义（观测矩阵）：一个向量表示位置、一个向量表示观测方向、一个向量表示向上方向   
假设相机是固定的（at Origin, up at Y, look at -Z） 而是去移动场景（模型变换）  
<img src = "./pic/c4_1.png" width = "80%">  

### 投影变换 Projection Transformation  
- 正交投影 Orthographic Projection
- 透视投影 Perspective Projection

正交投影：映射一个cuboid（[l,r] * [b,t] * [f, n]）到 标准canonical cube（[-1, 1]^3）  
<img src = "./pic/c4_2.png" width = "80%">   

透视投影（视锥）：先保持近平面不变，缩放远平面及中间平面（z不变，收缩x、y），得到一个cuboid；再作正交投影（两个矩阵相乘）  
利用 *近平面上的点不变、远平面的中心点不变*， 求解出透视投影矩阵   
<br>

------
## 2 Rasterization
屏幕：一个二维数组（元素对应像素、数组大小对应分辨率）  
多边形映射到像素  

三角形的性质：
- 任意多边形都能拆分成三角形
- 三角形内部一定是一个平面
- 三角形内外定义清晰
- 定义顶点属性后，三角形内部可以通过插值计算  

光栅化的关键问题：**判断一个像素（的中心点）与三角形的位置关系**  
采样：离散化一个函数  
**利用像素中心对屏幕空间进行采样**  

光栅化加速：
- 只遍历三角形包围盒（轴向AABB包围盒）内像素

采样带来的锯齿问题（采样率对于信号来说不够高）  

### 反走样（频域）  
走样产生的原因：同样的采样频率去采样两种不同函数却能得到相同的结果  
在采样前先做一次模糊（滤波）  
滤波：去除特定频段  
  
傅里叶变换（展开）：将任意函数分解成不同的频率（从时域到频域）   
<img src = "./pic/c6_1.png" width = "80%">   
时域的卷积对应频域的乘积  
